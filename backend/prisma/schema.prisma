generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model AirDropToken {
  id                Int                @id @unique @default(autoincrement())
  createdAt         DateTime           @default(now())
  startTime         DateTime
  endTime           DateTime
  coinName          String
  chainId           String?
  coinSymbol        String
  chainName         String
  status            String
  ownerWallet       String?
  maxNumber         Int
  type              airDropType
  requirementType   requirementType
  User              User?              @relation(fields: [ownerWallet], references: [wallet])
  PasswordProtected PasswordProtected?
  DropParticipants  DropParticipants?
  DropDetails       DropDetails?
}

model User {
  id                 Int               @id @default(autoincrement())
  createdAt          DateTime          @default(now())
  wallet             String            @unique
  role               Role              @default(USER)
  AirDropToken       AirDropToken[]
  nonce              String            
}

model PasswordProtected {
  id        Int          @id @default(autoincrement())
  passwords String[]
  dropId    Int          @unique
  airDrop   AirDropToken @relation(fields: [dropId], references: [id])
}

model DropParticipants {
  id           Int          @id @default(autoincrement())
  participants String[]
  dropId       Int ?        @unique
  drop         AirDropToken? @relation(fields: [dropId], references: [id])
}

model DropDetails {
  id     Int          @id @default(autoincrement())
  dropId Int          @unique
  drop   AirDropToken? @relation(fields: [dropId], references: [id])
  website String
  logo String
  socials String[]
  description String
  steps String
}

enum airDropType {
  LOTTERY
  USER_LIMITED
  TOKEN_LIMITED
}

enum Role {
  USER
  CREATOR
}

enum requirementType {
  TOKEN_REQUIRED
  NFT_REQUIRED
  PASSWORD
}
